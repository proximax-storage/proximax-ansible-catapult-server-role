{% set combined_ext_server_config = default_ext_server_config | combine(ext_server_config, recursive=true) -%}
[extensions]

# api extensions
extension.filespooling = {{ combined_ext_server_config['extension_filespooling'] | lower }}
extension.partialtransaction = {{ combined_ext_server_config['extension_partialtransaction'] | lower }}

# addressextraction must be first because mongo and zeromq depend on extracted addresses
extension.addressextraction = {{ combined_ext_server_config['extension_addressextraction'] | lower }}
extension.mongo = {{ combined_ext_server_config['extension_mongo'] | lower }}
extension.zeromq = {{ combined_ext_server_config['extension_zeromq'] | lower }}

# p2p extensions
extension.eventsource = {{ combined_ext_server_config['extension_eventsource'] | lower }}
extension.harvesting = {{ combined_ext_server_config['extension_harvesting'] | lower }}
extension.syncsource = {{ combined_ext_server_config['extension_syncsource'] | lower }}

# common extensions
extension.diagnostics = {{ combined_ext_server_config['extension_diagnostics'] | lower }}
extension.hashcache = {{ combined_ext_server_config['extension_hashcache'] | lower }}
extension.networkheight = {{ combined_ext_server_config['extension_networkheight'] | lower }}
extension.nodediscovery = {{ combined_ext_server_config['extension_nodediscovery'] | lower }}
extension.packetserver = {{ combined_ext_server_config['extension_packetserver'] | lower }}
extension.pluginhandlers = {{ combined_ext_server_config['extension_pluginhandlers'] | lower }}
extension.sync = {{ combined_ext_server_config['extension_sync'] | lower }}
extension.timesync = {{ combined_ext_server_config['extension_timesync'] | lower }}
extension.transactionsink = {{ combined_ext_server_config['extension_transactionsink'] | lower }}
extension.unbondedpruning = {{ combined_ext_server_config['extension_unbondedpruning'] | lower }}
